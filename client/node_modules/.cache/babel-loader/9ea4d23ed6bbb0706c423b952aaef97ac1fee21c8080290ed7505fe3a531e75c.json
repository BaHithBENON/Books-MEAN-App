{"ast":null,"code":"// src/components/BookDetails.js\nimport React from'react';import{useApi}from'../context/ApiContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BookDetails=_ref=>{let{_id,title,isbn13,isbn10,authors,categories,published_year,num_pages,description,average_rating,ratings_count,thumbnail,onRefresh}=_ref;// Dans votre composant\nconst navigate=useNavigate();const{deleteItem}=useApi();const handleNavigate=()=>{// Créer un objet avec les données du livre\nconst bookData={_id,title,isbn13,isbn10,authors,categories,published_year,num_pages,description,average_rating,ratings_count,thumbnail};// Encodage de chaque valeur pour l'URL\nconst encodedBookData=Object.entries(bookData).reduce((acc,_ref2)=>{let[key,value]=_ref2;acc[key]=encodeURIComponent(value);return acc;},{});// Naviguer vers la page AddBook avec les données du livre dans l'objet de requête\nnavigate(\"/add?book=\".concat(JSON.stringify(encodedBookData)));};// Fonction pour gérer la sélection d'un livre\nconst handleBookSelect=book=>{// Créer un objet avec les données du livre\nconst bookData={_id,title,isbn13,isbn10,authors,categories,published_year,num_pages,description,average_rating,ratings_count,thumbnail};// Encodage de chaque valeur pour l'URL\nconst encodedBookData=Object.entries(bookData).reduce((acc,_ref3)=>{let[key,value]=_ref3;acc[key]=encodeURIComponent(value);return acc;},{});navigate(\"/more?book=\".concat(JSON.stringify(encodedBookData)));};const handleDelete=async()=>{// Ajoutez ici la logique pour supprimer le livre\nawait deleteItem(_id);onRefresh();// Appel de la fonction de rafraîchissement après la suppression\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-12 shadow p-4 rounded btn justify-content-start text-start\",\"data-toggle\":\"modal\",\"data-target\":\"#infoModal\".concat(isbn13),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"~\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-warning fw-bold\",children:'{'}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[\" \",title]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ms-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"#\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary\",children:\"isbn13 : \"}),isbn13]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ms-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"#\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary\",children:\"isbn10 : \"}),isbn10]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ms-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"#\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary text-small\",children:\"by \"}),authors]}),/*#__PURE__*/_jsx(\"p\",{className:\"ms-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary badge bg-dark rounded text-light\",children:categories})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-warning fw-bold\",children:'}'}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary\",children:\"~ \"}),published_year,\" | \",num_pages,\"p \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger badge bg-light\",onClick:handleDelete,children:\"Supprimer \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger badge bg-success text-light\",onClick:handleNavigate,children:\" Update\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger badge bg-primary text-light\",onClick:handleBookSelect,children:\" Plus\"})]})]});};export default BookDetails;","map":{"version":3,"names":["React","useApi","useNavigate","jsx","_jsx","jsxs","_jsxs","BookDetails","_ref","_id","title","isbn13","isbn10","authors","categories","published_year","num_pages","description","average_rating","ratings_count","thumbnail","onRefresh","navigate","deleteItem","handleNavigate","bookData","encodedBookData","Object","entries","reduce","acc","_ref2","key","value","encodeURIComponent","concat","JSON","stringify","handleBookSelect","book","_ref3","handleDelete","className","children","onClick"],"sources":["C:/Users/asist/Desktop/Master 2/NoSQL/Project/Projet 1/Books Dataset for Recommendation Systems and Chatbots/work/Books-MEAN-App/client/src/components/BookDetails.js"],"sourcesContent":["// src/components/BookDetails.js\r\nimport React from 'react';\r\nimport { useApi } from '../context/ApiContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst BookDetails = ({ _id, title, isbn13, isbn10, authors, categories, \r\n        published_year, num_pages, description, average_rating, ratings_count, thumbnail, onRefresh }) => {\r\n    // Dans votre composant\r\n    const navigate = useNavigate();\r\n    const { deleteItem } = useApi();\r\n\r\n    const handleNavigate = () => {\r\n        // Créer un objet avec les données du livre\r\n        const bookData = {\r\n            _id,\r\n            title,\r\n            isbn13,\r\n            isbn10,\r\n            authors,\r\n            categories,\r\n            published_year,\r\n            num_pages,\r\n            description,\r\n            average_rating,\r\n            ratings_count,\r\n            thumbnail\r\n        };\r\n\r\n        // Encodage de chaque valeur pour l'URL\r\n        const encodedBookData = Object.entries(bookData).reduce((acc, [key, value]) => {\r\n            acc[key] = encodeURIComponent(value);\r\n            return acc;\r\n        }, {});\r\n        // Naviguer vers la page AddBook avec les données du livre dans l'objet de requête\r\n        navigate(`/add?book=${JSON.stringify(encodedBookData)}`);\r\n    };\r\n\r\n    // Fonction pour gérer la sélection d'un livre\r\n    const handleBookSelect = (book) => {\r\n        // Créer un objet avec les données du livre\r\n        const bookData = {\r\n            _id,\r\n            title,\r\n            isbn13,\r\n            isbn10,\r\n            authors,\r\n            categories,\r\n            published_year,\r\n            num_pages,\r\n            description,\r\n            average_rating,\r\n            ratings_count,\r\n            thumbnail\r\n        };\r\n\r\n        // Encodage de chaque valeur pour l'URL\r\n        const encodedBookData = Object.entries(bookData).reduce((acc, [key, value]) => {\r\n            acc[key] = encodeURIComponent(value);\r\n            return acc;\r\n        }, {});\r\n        navigate(`/more?book=${JSON.stringify(encodedBookData)}`);\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        // Ajoutez ici la logique pour supprimer le livre\r\n        await deleteItem(_id);\r\n        onRefresh(); // Appel de la fonction de rafraîchissement après la suppression\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"col-md-6 col-12 shadow p-4 rounded btn justify-content-start text-start\" \r\n            data-toggle=\"modal\" data-target={`#infoModal${isbn13}`}>\r\n            <p>\r\n                <span className=\"fw-bold\">~</span>\r\n                <span className=\"text-warning fw-bold\">{'{'}</span> \r\n                <span className=\"fw-bold\"> {title}</span>\r\n            </p>\r\n            <p className=\"ms-4\"> \r\n                <span>#</span> \r\n                <span className=\"fw-bold text-primary\">isbn13 : </span> \r\n                {isbn13}\r\n            </p>\r\n            <p className=\"ms-4\"> \r\n                <span>#</span> \r\n                <span className=\"fw-bold text-primary\">isbn10 : </span> \r\n                {isbn10}\r\n            </p>\r\n            <p className=\"ms-4\"> \r\n                <span>#</span> \r\n                <span className=\"fw-bold text-primary text-small\">by </span> \r\n                {authors}\r\n            </p>\r\n            <p className=\"ms-4\">\r\n                <span className=\"fw-bold text-primary badge bg-dark rounded text-light\">{categories}</span>\r\n            </p>\r\n            <p>\r\n                <span className=\"text-warning fw-bold\">{'}'}</span> \r\n                <span className=\"fw-bold text-primary\">~ </span> \r\n                {published_year} | {num_pages}p <br></br>\r\n                <span className='text-danger badge bg-light' onClick={handleDelete}>Supprimer </span> \r\n                <span className='text-danger badge bg-success text-light' onClick={handleNavigate}> Update</span>\r\n                <span className='text-danger badge bg-primary text-light' onClick={handleBookSelect}> Plus</span>\r\n            </p> \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}